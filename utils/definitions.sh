#!/bin/bash

HERE="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"

MARKET_ENGINE_SHELL_NETWORK=$HERE/..
MARKET_ENGINE_PATH=$MARKET_ENGINE_SHELL_NETWORK/..
MARKET_ENGINE_CLIENT=$MARKET_ENGINE_PATH/market_engine_client
MARKET_ENGINE_CLIENT_LAUNCHER=$MARKET_ENGINE_CLIENT/python/launcher
MARKET_ENGINE_CLIENT_APPLICATION=$MARKET_ENGINE_CLIENT/python/application
MARKET_ENGINE_CLIENT_SONAR=$MARKET_ENGINE_CLIENT/python/sonar
MARKET_ENGINE_CLIENT_TRADEUP_ENGINE=$MARKET_ENGINE_CLIENT/cpp/tradeup_engine
MARKET_ENGINE_API=$MARKET_ENGINE_PATH/market_engine_api
MARKET_ENGINE_API_LAUNCHER=$MARKET_ENGINE_API/python/launcher
MARKET_ENGINE_API_SONAR=$MARKET_ENGINE_API/python/sonar
MARKET_ENGINE_SHARE=$MARKET_ENGINE_PATH/market_engine_share
MARKET_ENGINE_SHARE_SRC=$MARKET_ENGINE_PATH/market_engine_share/python/share/src
MARKET_ENGINE_ASSETS_PATH=$MARKET_ENGINE_PATH/market_engine_assets
MARKET_ENGINE_SHELL_DIST_LICENCES_PATH=$MARKET_ENGINE_SHELL_NETWORK/distribution_licences

MARKET_ENGINE_VENVS=$MARKET_ENGINE_PATH/venvs
MARKET_ENGINE_VENV_BIN_CLIENT_X86_64_LINUX=$MARKET_ENGINE_VENVS/linux_x86_64/client_venv/bin
MARKET_ENGINE_VENV_BIN_CLIENT_X86_64_WINDOWS=$MARKET_ENGINE_VENVS/windows_x86_64/client_venv/Scripts
MARKET_ENGINE_VENV_BIN_API_X86_64_LINUX=$MARKET_ENGINE_VENVS/linux_x86_64/api_venv/bin
MARKET_ENGINE_VENV_BIN_API_X86_64_WINDOWS=$MARKET_ENGINE_VENVS/windows_x86_64/api_venv/Scripts
LINUX_X86_64_PYTHON_NAME=python3
WINDOWS_X86_64_PYTHON_NAME=python.exe
BUILD_PATH=$MARKET_ENGINE_SHELL_NETWORK/build
CLIENT_LAUNCHER_BUILD_X86_64_LINUX=$BUILD_PATH/client_launcher_x86_64_linux
CLIENT_LAUNCHER_BUILD_X86_64_WINDOWS=$BUILD_PATH/client_launcher_x86_64_windows
CLIENT_APPLICATION_BUILD_X86_64_LINUX=$BUILD_PATH/client_application_x86_64_linux
CLIENT_APPLICATION_BUILD_X86_64_WINDOWS=$BUILD_PATH/client_application_x86_64_windows
CLIENT_SONAR_BUILD_X86_64_LINUX=$BUILD_PATH/client_sonar_x86_64_linux
CLIENT_SONAR_BUILD_X86_64_WINDOWS=$BUILD_PATH/client_sonar_x86_64_windows
CLIENT_ENGINE_BUILD_X86_64_LINUX=$BUILD_PATH/client_tradeup_engine_x86_64_linux
CLIENT_ENGINE_BUILD_X86_64_WINDOWS=$BUILD_PATH/client_tradeup_engine_x86_64_windows
API_LAUNCHER_BUILD_X86_64_LINUX=$BUILD_PATH/api_launcher_x86_64_linux
API_LAUNCHER_BUILD_X86_64_WINDOWS=$BUILD_PATH/api_launcher_x86_64_windows
API_SONAR_BUILD_X86_64_LINUX=$BUILD_PATH/api_sonar_x86_64_linux
API_SONAR_BUILD_X86_64_WINDOWS=$BUILD_PATH/api_sonar_x86_64_windows

APPIMG_PATH=$MARKET_ENGINE_SHELL_NETWORK/appimg
APPIMG_CLIENT_DIR=$APPIMG_PATH/market_engine_client.AppDir
APPIMG_API_DIR=$APPIMG_PATH/market_engine_api.AppDir
APPIMG_CLIENT_NAME=MarketEngineClient-x86_64.AppImage 
APPIMG_API_NAME=MarketEngineAPI-x86_64.AppImage 
APPIMG_CLIENT_PATH=$APPIMG_PATH/$APPIMG_CLIENT_NAME
APPIMG_API_PATH=$APPIMG_PATH/$APPIMG_API_NAME

ZIP_PATH=$MARKET_ENGINE_SHELL_NETWORK/zip
ZIPDIR_CLIENT_LINUX_X86_64=$ZIP_PATH/MarketEngineClient_linux_x86_64_zipdir
ZIPDIR_CLIENT_WINDOWS_X86_64=$ZIP_PATH/MarketEngineClient_windows_x86_64_zipdir
ZIPDIR_API_LINUX_X86_64=$ZIP_PATH/MarketEngineAPI_linux_x86_64_zipdir
ZIPDIR_API_WINDOWS_X86_64=$ZIP_PATH/MarketEngineAPI_windows_x86_64_zipdir

ZIPDIR_CLIENT_LINUX_X86_64_NAME=MarketEngineClient_x86_64_linux.7z
ZIPDIR_CLIENT_WINDOWS_X86_64_NAME=MarketEngineClient_x86_64_windows.7z
ZIP_API_LINUX_X86_64_NAME=MarketEngineAPI_x86_64_linux.7z
ZIP_API_WINDOWS_X86_64_NAME=MarketEngineAPI_x86_64_windows.7z

ZIP_ARCHIVE_CLIENT_LINUX_X86_64_PATH=$ZIP_PATH/$ZIPDIR_CLIENT_LINUX_X86_64_NAME
ZIP_ARCHIVE_CLIENT_WINDOWS_X86_64_PATH=$ZIP_PATH/$ZIPDIR_CLIENT_WINDOWS_X86_64_NAME
ZIP_ARCHIVE_API_LINUX_X86_64_PATH=$ZIP_PATH/$ZIP_API_LINUX_X86_64_NAME
ZIP_ARCHIVE_API_WINDOWS_X86_64_PATH=$ZIP_PATH/$ZIP_API_WINDOWS_X86_64_NAME

mkdir -p $BUILD_PATH
mkdir -p $CLIENT_LAUNCHER_BUILD_X86_64_LINUX
mkdir -p $CLIENT_LAUNCHER_BUILD_X86_64_WINDOWS
mkdir -p $CLIENT_APPLICATION_BUILD_X86_64_LINUX
mkdir -p $CLIENT_APPLICATION_BUILD_X86_64_WINDOWS
mkdir -p $CLIENT_SONAR_BUILD_X86_64_LINUX
mkdir -p $CLIENT_SONAR_BUILD_X86_64_WINDOWS
mkdir -p $CLIENT_ENGINE_BUILD_X86_64_LINUX
mkdir -p $CLIENT_ENGINE_BUILD_X86_64_WINDOWS
mkdir -p $API_LAUNCHER_BUILD_X86_64_LINUX
mkdir -p $API_LAUNCHER_BUILD_X86_64_WINDOWS
mkdir -p $API_SONAR_BUILD_X86_64_LINUX
mkdir -p $API_SONAR_BUILD_X86_64_WINDOWS
mkdir -p $ZIPDIR_CLIENT_LINUX_X86_64
mkdir -p $ZIPDIR_CLIENT_WINDOWS_X86_64
mkdir -p $ZIPDIR_API_LINUX_X86_64
mkdir -p $ZIPDIR_API_WINDOWS_X86_64